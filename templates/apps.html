{{define "content"}}
<h1>Apps</h1>
{{if .Categories}}
{{range .Categories}}
<h2 class="category-title">{{.Name}}</h2>
<div class="app-grid">
    {{range .Apps}}
    <div class="app-card">
        {{if .URL}}<a class="app-card-body" href="{{.URL}}" target="_blank" rel="noopener">{{else}}<div class="app-card-body">{{end}}
            <div class="app-card-header">
                {{if .Icon}}<span class="app-icon">{{.Icon}}</span>{{end}}
                <span class="app-name">{{.Name}}</span>
            </div>
            {{if .Subtitle}}<div class="app-subtitle">{{.Subtitle}}</div>{{end}}
            {{if .Description}}<div class="app-desc">{{.Description}}</div>{{end}}
        {{if .URL}}</a>{{else}}</div>{{end}}
        <div class="app-states">
            {{range .Containers}}
            <a class="badge badge-{{.State}}" href="{{basePath}}/container/{{.ID}}" title="{{firstName .Names}}">{{.State}}</a>
            {{end}}
        </div>
    </div>
    {{end}}
</div>
{{end}}
{{else}}
<p class="empty">No apps found. Add labels prefixed with <code>ch.jo-m.go.podfather.app.</code> to your containers, or define external apps via <code>PODFATHER_APP_*</code> environment variables.</p>
{{end}}
{{end}}
