# Production compose file for podfather.
# Start with: podman-compose up
# Browse to http://localhost:8080

services:
  podfather:
    image: ghcr.io/jo-m/podfather:latest
    container_name: podfather
    ports:
      - "8080:8080"
    user: "1000:1000" # FIXME: Adapt this to your actual uid/gid.
    volumes:
      - ${XDG_RUNTIME_DIR}/podman/podman.sock:/var/run/podman.sock:ro
    labels:
      ch.jo-m.go.podfather.app.name: "podfather"
      ch.jo-m.go.podfather.app.icon: "ðŸ«›"
      ch.jo-m.go.podfather.app.category: "Infrastructure"
      ch.jo-m.go.podfather.app.sort-index: "0"
      ch.jo-m.go.podfather.app.description: "Podman container dashboard"
      ch.jo-m.go.podfather.app.url: "http://localhost:8080"
    environment:
      PODMAN_SOCKET: /var/run/podman.sock
      LISTEN_ADDR: ":8080"
      # ENABLE_AUTOUPDATE_BUTTON: "true"
      # BASE_PATH: "/podfather"
      # External apps (shown on dashboard without a container):
      # PODFATHER_APP_ROUTER_NAME: "Router"
      # PODFATHER_APP_ROUTER_ICON: "ðŸ“¡"
      # PODFATHER_APP_ROUTER_URL: "http://192.168.1.1"
    restart: unless-stopped
